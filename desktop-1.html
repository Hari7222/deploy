<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <link rel="icon" href="/favicon.ico" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#000000" />
  <title>Desktop - 1</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro%3A300%2C400%2C500%2C600%2C700"/>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins%3A300%2C400%2C500%2C600%2C700"/>
  <link rel="stylesheet" href="./styles/desktop-1.css"/>
</head>
<body class="container-fluid">
<div class="desktop-1-1sb">
  <div class="auto-group-rdr5-evZ">
    <div class="auto-group-xlkp-wHP">
      <div class="auto-group-lezb-35X">
        <img class="group-48-nJ1" src="./assets/group-48.png"/>
        <p class="weatherme-hQy">WeatherMe</p>
        <p class="pm-ZCH">21:00 pm</p>
      </div>
      <div class="auto-group-4ved-8eh">
        <div class="auto-group-eahj-SfP">
          <span class="auto-group-eahj-SfP-sub-0">Today</span>
          <span class="auto-group-eahj-SfP-sub-1"> </span>
        </div>
        <p class="tommorow-2X7">Tommorow</p>
        <p class="monthly-forecast-YkM">Monthly Forecast</p>
      </div>
    </div>
    <div class="auto-group-twqd-fpy">
      <p class="c-Mxh">° C</p>
      <div class="auto-group-zvg9-4MK">
        <div class="ellipse-5-xhb">
        </div>
      </div>
      <p class="f-TPT">°F</p>
    </div>
    <div class="auto-group-v1kh-BqF">
      <button class="search-btn"><img class="icon-search-tUm" src="./assets/icon-search.png"/></button>
      <input type="search" class="search-location-c9s" placeholder="Search location..." id="search" data-search>
    </div>
    <div class="user-cards" data-user-cards-container>
      <template data-user-template>
        <div class="card">
          <div class="header" data-header></div>
            <div class="body" data-body></div>
        </div>
      </template>
    </div>

  <div class="auto-group-k2vh-X1w">
    <div class="rectangle-6-4Gm">
    </div>
    <img class="icon-chevron-left-arrow-MFs" src="./assets/icon-chevron-left-arrow.png"/>
    <div class="auto-group-tua1-g3F">
      <div class="auto-group-r4p7-BVo">
        <p class="burdwan-X3s">Burdwan</p>
        <img class="icon-location-dch" src="./assets/icon-location.png"/>
      </div>
      <div class="auto-group-jpgh-95F">
        <p class="aug-23-tue-UtD">Aug 23,  Tue</p>
        <img class="icon-temperature-bhw" src="./assets/icon-temperature.png"/>
        <p class="c-7RP">27°C</p>
        <img class="group-41-q6V" src="./assets/group-41.png"/>
      </div>
      <div class="auto-group-6gvh-xS1">
        <div class="auto-group-lm4z-t4m">
          <div class="auto-group-hqlv-cWZ">
            <p class="humidity-y89">Humidity</p>
            <p class="item-99-gYM">99%</p>
          </div>
          <div class="auto-group-la4m-o7B">
            <p class="visiblity-9wj">Visiblity</p>
            <p class="km-Vkh">8km</p>
          </div>
        </div>
        <div class="auto-group-hhqp-q3s">
          <p class="air-pressure-BNd">Air Pressure</p>
          <p class="hpa-idT">1005hPa</p>
        </div>
        <div class="auto-group-1f1x-fHo">
          <p class="wind-pRb">Wind</p>
          <p class="mph-Luj">2mph</p>
        </div>
      </div>
    </div>
    <img class="icon-chevron-left-arrow-zDb" src="./assets/icon-chevron-left-arrow-DZ7.png"/>
    <div class="rectangle-7-ubT">
    </div>
  </div>
  <div class="auto-group-rvn1-cEy">
    <div class="auto-group-rogh-9Vo">
      <div class="auto-group-6jss-V3s">
        <div class="rectangle-8-DEm">
        </div>
        <div class="rectangle-15-KYh">
        </div>
        <img class="group-17-ajX" src="./assets/group-17.png"/>
        <p class="pm-hZF">19:00 pm</p>
        <p class="item-29-QTf">29°</p>
      </div>
      <div class="auto-group-wmuf-7N5">
        <div class="rectangle-9-ecu">
        </div>
        <div class="rectangle-16-Kyw">
        </div>
        <img class="group-42-QVb" src="./assets/group-42.png"/>
        <p class="pm-wEd">21:00 pm</p>
        <p class="item-27-rcV">27°c</p>
      </div>
      <div class="auto-group-nqsx-ZWu">
        <div class="rectangle-10-6Fw">
        </div>
        <div class="rectangle-17-cVB">
        </div>
        <img class="group-43-Jso" src="./assets/group-43.png"/>
        <p class="pm-r8d">23:00pm</p>
        <p class="item-27-Zoj">27°</p>
      </div>
      <div class="auto-group-3ujv-51P">
        <div class="rectangle-11-QJZ">
        </div>
        <div class="rectangle-18-8VT">
        </div>
        <p class="am-vRK">1:00am</p>
        <p class="item-26-SPf">26°</p>
        <img class="group-44-wrD" src="./assets/group-44.png"/>
      </div>
      <div class="auto-group-fn7p-5Bj">
        <div class="rectangle-12-cBf">
        </div>
        <div class="rectangle-19-wUq">
        </div>
        <p class="am-RQ1">3:00am</p>
        <p class="item-29-957">29°</p>
        <img class="group-45-Tbb" src="./assets/group-45.png"/>
      </div>
      <div class="auto-group-wh49-BnV">
        <div class="rectangle-13-jZ7">
        </div>
        <div class="rectangle-20-rtd">
        </div>
        <img class="group-46-Z2M" src="./assets/group-46.png"/>
        <p class="am-Vgh">5:00am</p>
        <p class="item-31-ohP">31°</p>
      </div>
    </div>
    <div class="auto-group-uzdt-v1K">
      <div class="rectangle-14-4tD">
      </div>
      <div class="rectangle-21-bdF">
      </div>
      <p class="am-5oK">7:00am</p>
      <p class="item-27-1BB">27°</p>
      <img class="group-47-XQR" src="./assets/group-47.png"/>
    </div>
  </div>
</div>
  

<script>
  
const api  = "http://api.geonames.org/searchJSON?q=tamilnadu&maxRows=20&username=priya"
const api1 = "http://api.geonames.org/findNearByWeatherJSON?lat=9.919&lng=78.11953&username=priya"
const api2 =  "http://api.geonames.org/findNearByWeatherJSON?lat=13.08784&lng=80.27847&username=priya"

const searchBtn = document.querySelector(".search-btn");
const searchInput = document.querySelector(".search-location-c9s");

const userCardTemplate=document.querySelector("[data-user-template]")
const userCardContainer=document.querySelector("[data-user-cards-container]")

fetch("http://api.geonames.org/searchJSON?q=tamilnadu&maxRows=20&username=priya")
    .then(res=>res.json())
    .then(data=>{
      data.forEach(user => {
        const card=userCardTemplate.content.cloneNode(true).children[0]
      console.log(user)  
      })
    })



// let users =[]
// const searchInput = document.querySelector("[data-search]");
// searchInput.addEventListener("input",(e)=>{
//   const value=e.target.value
//   users.forEach(user=>{
//     const isVisible=user.state.includes(value) || user.district.includes(value)
//     user.element.classList.toggle("hide",!isVisible)
//   })
// })
// fetch(api)
//   .then(res=>res.json())
//   .then(data=> {
//    users= data.map(user => {
//       const card=userCardTemplate.content.cloneNode(true).children[0]
//       const header=card.querySelector("[data-header]")
//       const body=card.querySelector("[data-body]")
//       header.textContent=user.adminName1
//       body.textContent=user.toponymName
//       userCardContainer.append(card) 
//       return{adminName1:user.adminName1,toponymName:user.toponymName,element:card}     
//     })
//   })

searchBtn.addEventListener("click", ()=>{
  const placeName = searchInput.value;
  searchLocation(placeName);
})

function searchLocation(placeName){
  fetch(api)
      .then(response => response.json())
      .then(data => {
        console.log(data);
      
        fetch(api1)
          .then(response => response.json())
          .then(result => {
            console.log(result);
            document.querySelector(".burdwan-X3s").innerHTML = result.weatherObservation.stationName;
            document.querySelector(".c-7RP").innerHTML = result.weatherObservation.temperature + "°c";
            document.querySelector(".item-99-gYM").innerHTML = result.weatherObservation.humidity + "%";
            document.querySelector(".mph-Luj").innerHTML = result.weatherObservation.windSpeed + "km/h";
            document.querySelector(".aug-23-tue-UtD").innerHTML = result.weatherObservation.datetime;
            
          }),
          fetch(api2)
              .then(response => response.json())
              .then(result => {
                  console.log(result);
                  document.querySelector(".burdwan-X3s").innerHTML = result.weatherObservation.stationName;
                  document.querySelector(".c-7RP").innerHTML = result.weatherObservation.temperature + "°c";
                  document.querySelector(".item-99-gYM").innerHTML = result.weatherObservation.humidity + "%";
                  document.querySelector(".mph-Luj").innerHTML = result.weatherObservation.windSpeed + "km/h";
                  document.querySelector(".aug-23-tue-UtD").innerHTML = result.weatherObservation.datetime;

              })
      // document.querySelector(".search-location-c9s").innerHTML = data.placeName;
})
}







  // .catch(error => console.log('error', error));
  
</script>
</body>